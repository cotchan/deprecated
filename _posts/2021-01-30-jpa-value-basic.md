---
title: JPA) 기본값 타입
author: cotchan 
date: 2021-01-30 17:18:21 +0800 
categories: [JPA, JPA_Basic]
tags: [jpa] 
---

+ **이 포스팅은 개인 공부 목적으로 작성한 포스팅입니다**

---

## 1. 기본값 타입

+ JPA는 최상위 레벨로 보면 값을 두 가지 타입으로 분류합니다.

+ **엔티티 타입**
  + @Entity로 정의하는 객체
  + 엔티티가 변해도 식별자로 **지속해서 추적 가능**합니다.
    + 이게 무슨 말이냐면 회원 엔티티의 키나 나이 값을 모두 변경해도 식별자로 인식이 가능합니다.

+ **값 타입**
  + int, Integer, String처럼 단순히 값으로 사용하는 자바 기본 타입이나 객체입니다.
  + 얘는 식별자가 없습니다. 식별자가 없고 값만 있으므로 **변경시 추적이 불가능합니다.**
    + 예) 숫자 100을 200으로 변경하면 완전히 다른 값으로 대체 가능합니다.

---

## 2. 값 타입 분류

+ JPA에서는 값 타입을 크게 세 가지로 분류할 수 있습니다.

1. **기본값 타입**
  + 자바 기본 타입(int, double)
  + 래퍼 클래스(Integer, Long)
  + String
2. **임베디드 타입**
  + 예를 들면 좌표(Position) 값을 커스텀해서 쓰고 싶을 때 사용할 수 있습니다.
3. **컬렉션 값 타입**
  + 자바 컬렉션에다가 기본값 타입이나 임베디드 타입을 넣을 수 있는 것을 컬렉션 값 타입이라 말합니다.

---

## 3. 기본 값 타입

+ 예) String name, int age

+ **값 타입의 특징은 생명주기를 엔티티에 의존합니다.**
  + 예) 회원을 삭제하면 이름, 나이 필드도 함께 삭제됩니다.
+ 값 타입은 절대로 공유하면 안됩니다.
  + 예) 회원 이름 변경 시 다른 회원의 이름도 함께 변경되면 안됩니다.

---

+ **참고로 자바의 기본 타입은 절대 공유되지 않습니다.**
  + int, double 같은 기본 타입(primitive type)은 절대 공유 X
  + 기본 타입은 항상 값을 복사합니다.
  + Integer같은 래퍼 클래스나 String 같은 특수한 클래스는 **공유가능한 객체**이지만 변경가능하지 못하게 하여 (setValue X) Side Effect를 방지합니다. 
    + 즉 공유는 가능합니다.


---

+ 출처
    + [자바 ORM 표준 JPA 프로그래밍 - 기본편](https://www.inflearn.com/course/ORM-JPA-Basic)
