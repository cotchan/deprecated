---
title: bcs) 토큰(Token) 기반 인증
author: cotchan 
date: 2021-06-05 18:26:21 +0800 
categories: [ComputerScience, BCS]
tags: [bcs]
---

+ **아래 출처의 내용들을 바탕으로, 개인 공부목적으로 작성한 내용입니다.**
+ **계속 업데이트 할 예정입니다.**

---

## 1. Stateful 서버

+ Stateful 서버는 클라이언트에게서 요청을 받을 때마다, 클라이언트의 상태를 계속해서 유지하고, 이 정보를 서비스 제공에 이용합니다.
+ **Stateful 서버의 예제로는 `세션을 유지하는 웹서버`가 있습니다.**
  + 예를 들어, 유저가 로그인을 하면 세션에 로그인이 되었다고 저장을 해두고, 서비스를 제공할 때에 그 데이터를 이용합니다.

+ 기존의 인증 방식인 서버 기반 인증의 경우 서버측에서 유저들의 정보를 기억하고 있어야 합니다.
+ 이 세션을 유지하기 위해서는 메모리 / 디스크 / 데이터베이스 등에 사용자 정보를 저장합니다.

![스크린샷 2021-06-05 오후 6 57 51](https://user-images.githubusercontent.com/75410527/120887848-24057780-c630-11eb-9b15-587283f5a8f2.png)

---

## 2. Stateless 서버

+ **Stateless 서버는 상태를 유지하지 않습니다.**
+ **상태정보를 저장하지 않으면, `서버는 클라이언트측에서 들어오는 요청으로만 작업을 처리`합니다.**
+ 이렇게 상태가 없는 경우 클라이언트와 서버의 연결고리가 없기 때문에 서버의 확장성이 더 높아집니다.

![스크린샷 2021-06-05 오후 6 53 10](https://user-images.githubusercontent.com/75410527/120887850-2667d180-c630-11eb-8e3d-8845067ca83a.png)

---

## 3. 토큰 기반 시스템

+ 토큰 기반 시스템은 stateless 합니다. 즉 상태를 유지하지 않습니다.
+ 이 시스템에서는 더 이상 유저의 인증 정보를 서버나 세션에 담아두지 않습니다.
+ 세션이 존재하지 않으니, 유저들이 로그인 되어있는지 안 되어있는지 신경쓰지 않으면서 서버를 손쉽게 확장할 수 있습니다.

---

## 3-1. 토큰 기반 인증 로직

+ **대략적인 로직은 아래와 같습니다.**
  1. 유저가 아이디와 비밀번호로 로그인을 합니다.
  2. 서버측에서 해당 계정정보를 검증합니다.
  3. 계정정보가 정확하다면, 서버 측에서 유저에게 `signed 토큰을 발급`해줍니다.
  4. **`클라이언트 측에서 전달받은 토큰을 저장`해두고, `서버에 요청을 할 때마다 해당 토큰을 함께 서버에 전달`합니다.**
  5. 서버는 토큰을 검증하고, 요청에 응답합니다.

---

## 3-2. 토큰의 장점

+ **`무상태(stateless)`이며 확장성(scalability)이 있습니다.**
  + `토큰은 클라이언트 사이드에 저장`하기 때문에 완전히 stateless하며 서버를 확장하기에 매우 적합한 환경을 제공합니다.

---
+ 출처
    + [[JWT] 토큰(Token) 기반 인증에 대한 소개](https://velopert.com/2350)
