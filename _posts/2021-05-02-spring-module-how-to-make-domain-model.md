---
title: sb3) 도메인 모델 모델링 순서(방법)
author: cotchan 
date: 2021-05-02 20:05:21 +0800 
categories: [Spring-Boot3]
tags: [spring-module] 
---

+ **이 포스팅은 개인 공부 목적으로 작성한 포스팅입니다**

---

## 1. 모든 필드는 final로 선언

+ Immutable한 객체를 만들기 위한 시작단계
  + **시작은 객체 모델을 수정 불가능하도록 `모든 필드를 final로 만듭니다.`**
    + 처음엔 매우 불편한 과정입니다.

---

## 2. update가 필요한 필드를 식별하기

+ 처음에 전부 final로 만든 필드들에서 update가 필요한 필드가 무엇인지 식별해나갑니다.
+ 객체 모델에 필요한 행동이 무엇인지 고민하고 점진적으로 Immutable 필드를 줄여나갑니다.
+ **이 때 `setter 기능을 하는 메소드를 작성`합니다.**
  + **`단, 단순 setter보다는 이 모델에서 제공해야하는 동작을 메소드로 정의`하는 게 낫습니다.**
    + 단순히 setter보다는 이해하기 쉬우므로
    + 예시: setLoginCount보다는 `incrementLoginCount`

---

## 3. 가능한 모든 사용자 입력 유효성검사

+ 도메인 모델의 생성자에서 유효성 검사를 수행합니다.
+ **`항상 외부로부터 들어오는 사용자 입력은 유효성 검사를 수행해야합니다.`**
  + 항상 클라이언트는 백엔드가 원하는대로 입력해주지 않습니다.
  + 그러므로 코드는 가능한 방어적으로 작성해야 합니다.

---

## 4. equals, hashCode, toString 구현

+ equals, hashCode, toString 구현을 꼼꼼하게 해줍니다.
  + toString은 디버깅 시 용이

---

## 5. 불필요한 생성자 public Level 금지

+ 기본 생성자는 기술적으로 public으로 만들 필요가 없습니다.
  + Repository와 같은 패키지에 들어가므로 public으로 노출 시킬 필요가 X
  + **`jackson 라이브러리와 연관되는 경우 제외`**

---

## 6. 생성자는 체이닝 형태로 구현하기

+ **생성자를 오버로딩하여 `여러 가지 버전의 생성자를 만든다면`**
  + **2개의 인수를 받는 생성자는 3개의 인수를 받는 생성자를 `체이닝하도록 하는 형태로 구현`해야합니다.**
+ 또한 생성 인자 갯수가 많다면 빌더 패턴을 고려하세요

---

+ 출처
    + [[스터디/9기] 단순 CRUD는 그만! 웹 백엔드 시스템 구현(Spring Boot)](https://programmers.co.kr/learn/courses/11694) 
