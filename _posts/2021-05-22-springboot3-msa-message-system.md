---
title: sb3) 도메인 이벤트와 메시징 시스템(feat. MSA)
author: cotchan 
date: 2021-05-22 12:21:21 +0800 
categories: [Spring-Boot3]
tags: [spring-boot3] 
---

+ **이 포스팅은 개인 공부 목적으로 작성한 포스팅입니다**

---

## 1. 도메인 이벤트란?

---

## 2. 도메인 이벤트 처리시 장점


---

## 3. MS에서의 이벤트 전파

+ **마이크로 서비스는 `하나의 도메인을 담당하는 시스템`입니다.**
  + 하나의 도메인은 여러 개의 인스턴스로 이뤄질 수 있습니다.

+ 하나의 마이크로 서비스가 동작하는 원리를 아래와 같습니다. 
  1. **`하나의 command를 받습니다.`**
    + 예시
      + api 콜
      + event를 만들게 하는 행위
      + ex. price가 업데이트 되었다.
  2. **`event를 발생시킵니다.`**
  3. **그리고 `event를 이벤트 버스에 쏩니다.`**
    + **MSA에서 말하는 '이벤트 버스'는 `메시지 브로커를 의미`합니다.**
    + 메시지 브로커라는 또 다른 Software가 돌고 있는 것입니다.(`kafka`)
    + 이벤트 버스가 실제 메시지 전달을 담당합니다.
    + 이벤트 버스 또한 한 대 이상의 서버일 수 있습니다. 
 
+ 즉 메시지를 다른 서비스에게 비동기로 전달하는 형태로 시스템을 구성하게 됩니다.
+ 여러 서비스들끼리 Message Queue로 연결할 때는 `TCP 기반으로 통신`합니다.
+ 소켓이 연결되어 있고, 내부적으로 연결되어 있는 형태(HTTP X)

[카프카를 이용한 도메인 이벤트 전파]



---

+ 출처
    + [[스터디/9기] 단순 CRUD는 그만! 웹 백엔드 시스템 구현(Spring Boot)](https://programmers.co.kr/learn/courses/11694) 

